{% extends 'base.html' %}

{% block title %}{{ contact.first_name }} {{ contact.last_name }}{% endblock title %}

{% load staticfiles %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" />
<link rel="stylesheet" href="{% static 'css/screen.css' %}" />
<link rel="stylesheet" href="{% static 'css/jquery-ui.css' %}" />
<script type="text/javascript" src="{% static 'js/jquery.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.form.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery-ui.js' %}"></script>
<script type="text/javascript" src="{% static 'js/contact_form.js' %}"></script>
<script type="text/javascript">var MEDIA_URL = "{{MEDIA_URL}}";</script>
{% endblock extra_head %}

{% block content %}
    <div class="container">
        <div class="row">
            <h3>42 Coffe Cups Test Assignment</h3>
        </div>
        <hr>
        <form id="update_contact" class="form-horizontal" action="{% url 'edit' contact.id %}" ectype="multipart/form-data">
            <div class="form-group">
                <div id="contact-{{ form.first_name.name }}">
                    <label class="control-label col-xs-2">{{ form.first_name.label }}</label>
                    <div class="col-xs-2">
                        {{ form.first_name }}
                    </div>
                </div>
                <div id="contact-{{ form.email.name }}">
                    <label class="control-label col-xs-2">{{ form.email.label }}</label>
                    <div class="col-xs-2">
                        {{ form.email }}
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div id="contact-{{ form.last_name.name }}">
                    <label class="control-label col-xs-2">{{ form.last_name.label }}</label>
                    <div class="col-xs-2">
                        {{ form.last_name }}
                    </div>
                </div>
                <div id="contact-{{ form.jabber.name }}">
                    <label class="control-label col-xs-2">{{ form.jabber.label }}</label>
                    <div class="col-xs-2">
                        {{ form.jabber }}
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div id="contact-{{ form.birth_date.name }}">
                    <label class="control-label col-xs-2">{{ form.birth_date.label }}</label>
                    <div class="col-xs-2">
                        {{ form.birth_date }}
                    </div>
                </div>
                <div id="contact-{{ form.skype.name }}">
                    <label class="control-label col-xs-2">{{ form.skype.label }}</label>
                    <div class="col-xs-2">
                        {{ form.skype }}
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div id="contact-{{ form.photo.name }}">
                    <label class="control-label col-xs-2">{{ form.photo.label }}</label>
                    <div class="col-xs-2">
                        {{ form.photo }}
                        {% if contact.photo != "" %}
                            <img id="update_img" class="img-responsive" src="{{ MEDIA_URL }}{{ contact.photo }}"/>
                        {% else %}
                            <img id="update_img" class="img-responsive" src=""/>
                        {% endif %}
                    </div>
                </div>
                <div id="contact-{{ form.other.name }}">
                    <div class="col-xs-1"></div>
                    <div class="col-xs-2">
                        <label>{{ form.other.label }}</label>
                        {{ form.other }}
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div id="contact-{{ form.bio.name }}">
                    <div class="col-xs-2 col-xs-offset-3"></div>
                    <div class="col-xs-2">
                        <label>{{ form.bio.label }}</label>
                        {{ form.bio }}
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-xs-11 col-xs-offset-1 update_success update_error"></div>
            </div>
            <div class="form-group">
                <div class="col-xs-2 col-xs-offset-1">
                    {% csrf_token %}
                    <input id="update_in" class="btn btn-warning btn-sm" type="submit" value="Save" />
                    <input id="cancel_in" type="button" class="btn btn-info btn-sm" value="Cancel" />
                </div>
            </div>
        </form>
        <hr>
        <div class="row">
            <div class="col-md-1 col-md-offset-1"><a href="{% url 'requests' %}">requests</a></div>
        </div>
        <br>
    </div>
{% endblock content %}